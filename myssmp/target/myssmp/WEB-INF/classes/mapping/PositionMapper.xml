<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.human.dao.PositionDao">

    <!--<resultMap id="EmploymentBaseMap" type="com.human.model.Employment">-->
        <!--&lt;!&ndash;<id column="id" property="id" jdbcType="BIGINT"/>&ndash;&gt;-->
        <!--<id column="employment_id" property="employment_id" jdbcType="INTEGER" />-->
        <!--<result column="school_id" property="school_id" jdbcType="VARCHAR"/>-->
        <!--<result column="career_talk_id" property="career_talk_id" jdbcType="VARCHAR"/>-->
        <!--<result column="company_id" property="company_id" jdbcType="VARCHAR"/>-->
        <!--<result column="company_name" property="company_name" jdbcType="VARCHAR"/>-->
        <!--<result column="logo" property="logo" jdbcType="VARCHAR"/>-->
        <!--<result column="hitCount" property="hitCount" jdbcType="VARCHAR"/>-->
        <!--<result column="professionals" property="professionals" jdbcType="VARCHAR"/>-->
        <!--<result column="recruitPost" property="recruitPost" jdbcType="VARCHAR"/>-->
        <!--<result column="meet_name" property="meet_name" jdbcType="VARCHAR"/>-->
        <!--<result column="meet_time" property="meet_time" jdbcType="VARCHAR"/>-->
        <!--<result column="meet_day" property="meet_day" jdbcType="VARCHAR"/>-->
        <!--<result column="address" property="address" jdbcType="VARCHAR"/>-->
        <!--<result column="presentLink" property="presentLink" jdbcType="VARCHAR"/>-->
    <!--</resultMap>-->

    <sql id="Base_Column_List">
		positionID,position_name,positionWage,company_logo,companyType,company_size,workPlace
	</sql>



    <!--<select id="selectAllEmployment" resultMap="EmploymentBaseMap">-->
        <!--SELECT * FROM employment-->
    <!--</select>-->


    <!-- 查询用户记录总数 -->
    <select id="selectCountBytype" parameterType="Map" resultType="int">
        <if test="S_ID.toString()=='ALL'.toString()">
            select count(*) from position
        </if>
        <if test="S_ID.toString()=='position_name'.toString()">
            select count(*) from position
            where position_name LIKE "%"#{S_Name}"%" or professionals like '%不限专业%' or professionals =''
       </if>
        <if test="S_ID.toString()=='career_talk_id'.toString()">
            select count(*) from employment
            where career_talk_id =#{S_Name}
        </if>
        <if test="S_ID.toString()=='workPlace'.toString()">
            select count(*) from position
            where workPlace LIKE "%"#{S_Name}"%"
        </if>

	</select>



    <select id="selectAllPosition" parameterType="Map" resultType="com.human.model.Position">
        select
        <include refid="Base_Column_List" />
        from  position
             order by positionWage desc
        <if test="start!=null and size!=null">
            limit #{start},#{size}
        </if>
    </select>



    <select id="selectPositionByType" parameterType="Map" resultType="com.human.model.Position">
        select * from  position
        <if test="S_ID.toString()=='position_name'.toString()">
            where companyType LIKE "%"#{S_Name}"%"  or  position_name LIKE "%"#{S_Name}"%"  or jobDescription LIKE "%"#{S_Name}"%"  or professionals LIKE "%"#{S_Name}"%"
        </if>
        <if test="S_ID.toString()=='workPlace'.toString()">
            where workPlace LIKE  "%"#{S_Name}"%"
        </if>
        order by positionWage desc
        <if test="start!=null and size!=null">
            limit #{start},#{size}
        </if>
    </select>

    <select id="selectPositionById" parameterType="Map" resultType="com.human.model.Position">
        select  *
        from  position
        where  positionID= #{position_Id}
    </select>



    <select id="selectPositionToTald_Id" parameterType="Map" resultType="com.human.model.Position">
        select *
        from  position
       where position_name LIKE "%"#{position_name}"%" or professionals like '%不限专业%' or professionals ='' order by professionals desc
        <if test="start!=null and size!=null">
        limit #{start},#{size}
        </if>
    </select>


    


    <!--&lt;!&ndash; 查询用户记录根据类型 &ndash;&gt;-->
    <!--<select id="selectCountById" resultType="int">-->
        <!--select count(*) from employment-->
        <!--where-->
        <!--<if test="S_ID.toString()=='address'.toString()">-->
            <!--address like   "%"#{S_Name}"%"-->
        <!--</if>-->
        <!--<if test="S_ID.toString()=='Professional'.toString()">-->
            <!--professionals LIKE "%"#{S_Name}"%" or professionals like '%不限专业%' or professionals =''-->
        <!--</if>-->
        <!--<if test="S_ID.toString()=='School'.toString()">-->
            <!--school_id like   "%"#{S_Name}"%"-->
        <!--</if>-->
        <!--<if test="S_ID.toString()=='CompanyName'.toString()">-->
            <!--company_name like  "%"#{S_Name}"%"-->
        <!--</if>-->
    <!--</select>-->


    <!--&lt;!&ndash; 根据分页数据start 和size查询数据 &ndash;&gt;-->
    <!--<select id="findByPage" parameterType="Map" resultMap="EmploymentBaseMap">-->
        <!--select-->
        <!--<include refid="Base_Column_List" />-->
        <!--from employment-->
        <!--order by meet_day desc-->
        <!--<if test="start!=null and size!=null">-->
            <!--limit #{start},#{size}-->
        <!--</if>-->
    <!--</select>-->

    <!--&lt;!&ndash; 根据地址分页查询数据start 和size查询数据 &ndash;&gt;-->
    <!--<select id="selectEmploymentByAddress" parameterType="Map" resultMap="EmploymentBaseMap">-->
        <!--select-->
        <!--<include refid="Base_Column_List" />-->
        <!--from employment-->
        <!--where address like    "%"#{address}"%"  order by meet_day desc-->
        <!--<if test="start!=null and size!=null">-->
            <!--limit #{start},#{size}-->
        <!--</if>-->
    <!--</select>-->



</mapper>